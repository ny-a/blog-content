---
title: "久しぶりにArchLinuxのインストールをしました"
date: 2020-03-15
---

知人から古い MacBookAir をいただいたので、 ArchLinux をインストールしてみました。
私は MacBook を所有したことがないので、これが1台目です。

いただいたのは10年前のモデルで、 MacBookAir3,2 (13inch, Late 2010) です。詳細スペックは、

- CPU: Intel Core2Duo 2.13GHz
- RAM: 4GB
- SSD: 256GB

といった感じです。

Arch は何回も壊してインストールし直しているので、久しぶりですが何も見ずにサクサク進めることができます。
……という慢心がいけないんですよね、grub の設定をある程度忘れていたのと、ネットワーク設定を忘れて再起動してしまいました。

諦めが悪いので、USB キーを差して airootfs をマウントして netctl を叩いてみたのですが、 chroot だと全て ignore されてしまい、
chroot なしで実行しようとすると netctl や wpa_supplicant 関連のファイルをコピーしないといけないため、面倒になって諦めました。

その後 netctl と wpa_supplicant をインストールして再起動したのですが、 dhcpcd がインストールされていませんでした。
過去のインストールでは明示的にインストールした覚えがないのですが、依存などが変わったのでしょうか。
後で ArchWiki を見てみようと思います。

また、 CPU は rdrand をサポートしておらず、 /dev/hwrng は生えているものの rng-tools を入れても使えなかった(cat してみても
エラーが出る)ので、乱数生成は遅い感じになりつらいですね(まあ実際何がつらいかと言われればあまりないのですが……。)

AUR のメンテナになるときに検証環境は qemu/kvm などでいいかなと思っていたのですが、やっぱりハードウェア関連など実機で
検証しないといけないなと実感しました。

ひとまず、気軽に再インストールができるように環境の整理と再構築の自動化などを進めていこうと思っています。
